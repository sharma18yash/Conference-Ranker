<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="author" content="colorlib.com">
  <link href="https://fonts.googleapis.com/css?family=Poppins:400,600,700" rel="stylesheet" />
  <link rel="stylesheet" href="{{ url_for('static', filename='styles/style.css') }}">
</head>

<body>
  <div class="s010">

    <div style="color: #fff;position: absolute;top: 0;left: 0;font-size: 25;">
      <a href="/">
        <h1 style="color: #fff;">Conference</h1>
        <h1 style="color: rgb(78, 75, 75);">Ranker</h1>
      </a>

    </div>

    <form method="post">
      <div class="inner-form">
        <div class="basic-search">
          <div class="input-field">
            <input id="search" type="text" placeholder="" name="sField" />
          </div>
        </div>
      </div>
      <button class="btn-search2" href="index.html" style="min-width: 100px;
          height: 40px;
          padding: 0 15px;
          /* background: linear-gradient(to right, #2c6dd5 0%, #2c6dd5 28%, #ff4b5a 91%, #ff4b5a 100%); */
          background:black;
          white-space: nowrap;
          border-radius: 20px;
          font-size: 14px;
          color: #fff;
          transition: all .2s ease-out, color .2s ease-out;
          border: 0;
          cursor: pointer;
          font-weight: 400;
          box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, 0.15);
          /* z-index: 0; */
          float: right;
          position: relative;">
        SEARCH
      </button>
      <div style="color: rgb(156, 181, 248);">
        <b>Recent search terms:</b>
        <ul style="color: rgb(247, 248, 156);display: inline;list-style-type:none">
          <form></form>
          {% for i in recentQ %}
          <li>
            <form method="post">
              <input id="src2" type="hidden" type="text" placeholder={{i}} name="sField" value="{{i}}" />
              <button action="index2.html" style="background: none;
                color: inherit;
                border: none;
                padding: 0;
                font: inherit;
                cursor: pointer;
                outline: inherit;">{{i}}</button>

            </form>
          </li>
          {% endfor %}

        </ul>

      </div>
    </form>

  </div>



  <style>
    table {
      font-family: arial, sans-serif;
      border-collapse: collapse;
      width: 100%;
    }

    td,
    th {
      border: 1px solid #dddddd;
      text-align: left;
      padding: 8px;
    }

    tr:nth-child(even) {
      background-color: #dddddd;
    }
  </style>
  </head>

  <body>

    <h2>RESULTS</h2>

    <table>
      <tr>
        <th>Title</th>
        <th>Acronym</th>
        <th>Source</th>
        <th>Rank</th>
        <th>DBLP</th>
        <th>Start Date</th>
        <th>End Date</th>
        <th>Location</th>
      </tr>
      {% for i in output %}
      <tr>
        <td>{{i["Title"]}}</td>
        <td>{{i["Acronym"]}}</td>
        <td>{{i["Source"]}}</td>
        <td>{{i["Rank"]}}</td>
        <td><a href="{{i['url_for']}}">View</a></td>
        <td>{{i["Start_Date"]}}</td>
        <td>{{i["End_Date"]}}</td>
        <td>{{i["Location"]}}</td>
      </tr>
      {% endfor %}

      </tr>
    </table>

  </body>

</html>


</div>
</div>
</form>
</div>

<script src="js/extention/choices.js"></script>
<script>
  const customSelects = document.querySelectorAll("select");
  const deleteBtn = document.getElementById('delete')
  const choices = new Choices('select',
    {
      searchEnabled: false,
      itemSelectText: '',
      removeItemButton: true,
    });
  for (let i = 0; i < customSelects.length; i++) {
    customSelects[i].addEventListener('addItem', function (event) {
      if (event.detail.value) {
        let parent = this.parentNode.parentNode
        parent.classList.add('valid')
        parent.classList.remove('invalid')
      }
      else {
        let parent = this.parentNode.parentNode
        parent.classList.add('invalid')
        parent.classList.remove('valid')
      }
    }, false);
  }
  deleteBtn.addEventListener("click", function (e) {
    e.preventDefault()
    const deleteAll = document.querySelectorAll('.choices__button')
    for (let i = 0; i < deleteAll.length; i++) {
      deleteAll[i].click();
    }
  });

</script>
</body>

</html>